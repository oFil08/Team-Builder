<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="fontello-1c9d804e/css/fontello.css"
</head>
<body>
    <div id="inputs">
        <input type="number" id="iloscZawodników" step="2" value="2" min="2">
        <div id="zawodnicy">
            <input type="text" class="zawodnik" value="Zawodnik 1"><br>
            <input type="text" class="zawodnik" value="Zawodnik 2"><br>
        </div>
        <button id="submit" onclick="submit()">Losuj Drużyny</button>
        <button id="hide" onclick="hide()"><i class='icon-up'></i></button>
    </div>
    <div id="wynik">
        <div id="druzyna1">Drużyna 1</div>
        <div id="druzyna2">Drużyna 2</div>
    </div>
    <script>
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                let j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        var iloscZawodników = document.getElementById("iloscZawodników");

        iloscZawodników.addEventListener("change", function () {
            var zawodnicy = document.getElementById("zawodnicy");
            zawodnicy.innerHTML = "";
            for (var i = 0; i < iloscZawodników.value; i++) {
                zawodnicy.innerHTML += `<input type="text" class="zawodnik" value="Zawodnik ${i + 1}"><br>`;
            }
        });

        function submit() {
            var tab = [];
            var d1 = document.getElementById("druzyna1");
            var d2 = document.getElementById("druzyna2");
            d1.style.visibility = "visible";
            d2.style.visibility = "visible";
            
            d1.innerHTML = "Drużyna 1:<br>";
            d2.innerHTML = "Drużyna 2:<br>";

            document.querySelectorAll(".zawodnik").forEach((zawodnik) => {
                tab.push(zawodnik.value);
            });

            shuffle(tab);

            for (var i = 0; i < tab.length; i++){
                if (i < tab.length / 2) {
                    d1.innerHTML += `<h2>${tab[i]}</h2>`;
                } else {
                    d2.innerHTML += `<h2>${tab[i]}</h2>`;
                }
            }
        }

        var ifhidden = false;

        function hide() {
            let hideButton = document.getElementById("hide");
            let inputsContainer = document.getElementById("zawodnicy");
            let iloscZawodników = document.getElementById("iloscZawodników");

            if (ifhidden) {
                hideButton.innerHTML = "<i class='icon-up'></i>";
                iloscZawodników.style.display = "initial";
                inputsContainer.style.display = "block";
                ifhidden = false;
            } else {
                hideButton.innerHTML = "<i class='icon-down'></i>";
                iloscZawodników.style.display = "none";
                inputsContainer.style.display = "none";
                ifhidden = true;
            }
        }

    </script>
</body>
</html>
